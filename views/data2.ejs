<% include ./partials/header %>

<div class="col-lg-11 ms-paper-content-container" style="text-align: center">
    <div class="ms-paper-content" style="display:inline-block">
        <div class="alert alert-light alert-info">
            <p>Score: <span class="ml-auto badge-pill badge-pill-info"> <%=currentUser.score %></span> Each question is
                worth 20 points.
            </p>
        </div>
    </div>
</div>


<!--   Video        -->
<div id="video" style="text-align: center">
    <div class="col-md-6" style="display:inline-block">
        <h3 class="text-center">Bar Charts and Averages</h3>
        <div class="card card-info-inverse">
            <div class="card-header">
                <h3 class="card-title"><i class="zmdi zmdi-graduation-cap"></i> Watch the tutorial below:</h3>
            </div>
            <div class="js-player">
                <script src="https://snowytopmaths.cdn.vooplayer.com/assets/vooplayer.js"></script><iframe
                    allow="autoplay" class="video-player-container vooplayer" data-playerId="MTYzMDQ0"
                    allowtransparency="true" style="max-width:100%" name="vooplayerframe" allowfullscreen="true" src=""
                    watch-type="" url-params="" frameborder="0" scrolling="no"> </iframe>
                <div class="card-body overflow-hidden text-center">
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <p id="userId"><%=currentUser.id %> </p>

    </div>

    <div style="text-align: center">
        <div class="card card-royal col-md-6" style="display:inline-block">

            <!--        First question-->
            <div class="mySlides">
                <div class="card-header">
                    <h3 id="header" class="card-title">1a.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz1">
                        <p class="q">On Friday they sold 50% of the number of Snickers sold on Tuesday. How many were
                            sold on Friday?</p><img src="img/barchart/Barchart4.png" alt="" class="img-fluid">
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>
            <!--     2nd question                -->
            <div class="mySlides">
                <div class="card-header">
                    <h3 class="card-title">1b.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz2">
                        <p class="q">On average, they sold 6 Snickers bars per day that week. Work out the number of
                            Snickers bars were sold on Sunday?</p><img src="img/barchart/Barchart4.png" alt=""
                            class="img-fluid">
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>
            <!--   3rd question       -->
            <div class="mySlides">
                <div class="card-header">
                    <h3 class="card-title">1c.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz3">
                        <p class="q"> There was a mistake and 9 snickers bar were actually sold on Thursday instead. Can
                            you work out what would the new average be?</p><img src="img/barchart/Barchart4.png" alt=""
                            class="img-fluid">
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>
            <!--4th question        -->
            <div class="mySlides">
                <div class="card-header">
                    <h3 class="card-title">2a.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz4">
                        <p class="q">There were 3 times as many Mars Bars sold on Thursday than Wednesday. How many were
                            sold on Thursday?<img src="img/barchart/Barchart5.png" alt="" class="img-fluid"></p>
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>
            <!--    5th question    -->
            <div class="mySlides">
                <div class="card-header">
                    <h3 class="card-title">2b.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz5">
                        <p class="q">On average, there were 10 Mars Bars sold per day that week. How many were sold on
                            Saturday?<img src="img/barchart/Barchart5.png" alt="" class="img-fluid"></p>
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>
            <!--   6th question     -->
            <div class="mySlides">
                <div class="card-header">
                    <h3 class="card-title">2c.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz6">
                        <p class="q">If they actually sold 17 Mars Bars on Monday, what is the new average for Mars Bars
                            sold per day that week.</p><img src="img/barchart/Barchart5.png" alt=""
                            class="img-fluid"><br>
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>

            <!--        7th question-->
            <div class="mySlides">
                <div class="card-header">
                    <h3 class="card-title">3a.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz7">
                        <p class="q">On Tuesday, they sold 2/3 the number of fidget spinners than were sold on Monday.
                            How many were sold?<img src="img/barchart/barchart7.png" alt="" class="img-fluid"></p><br>
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>
            <!--        8th question-->
            <div class="mySlides">
                <div class="card-header">
                    <h3 class="card-title">3b.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz8">
                        <p class="q">On average, there were 15 Fidget Spinners sold per day that week. How many were
                            sold on Friday?<img src="img/barchart/barchart7.png" alt="" class="img-fluid"></p><br>
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>
            <!--9th question-->
            <div class="mySlides">
                <div class="card-header">
                    <h3 class="card-title">3c.</h3>
                </div>
                <div class="card-body">
                    <form name="quiz9">
                        <p class="q">There was a mistake with the counting and the shop actually sold 14 more Fidget
                            Spinners than actually thought. What is the new average for the number of Fidget Spinners
                            sold that week?</p><img src="img/barchart/barchart7.png" alt="" class="img-fluid"><br>
                        <div class="ui input focus">
                            <input type="text" placeholder=" " name="question1">
                        </div>
                    </form>
                </div>
            </div>
            <!-- buttons-->
            <div class="container">
                <div class="row" style="margin: 0 auto">
                    <button type="button" id="button1" class="btn btn-success btn-raised"> Check </button>
                    <button type="button" id="next1" class="btn btn-primary btn-raised" onclick="plusSlides(1)"> Next
                    </button>
                    <button type="button" id="button" class="btn btn-danger btn-raised" data-toggle="modal"
                        data-target="#myModal4"> Total Score </button>
                </div>
            </div>

            <div class="container">
                <div class="row" style="margin: 0 auto">
                    <span id="tick" class="ms-icon ms-icon-lg ms-icon-circle color-success">
                        <i class="fa fa-check"></i>
                    </span>
                    <span id="wrong" class="ms-icon ms-icon-lg ms-icon-circle color-danger">
                        <i class="fa fa-remove"></i>
                    </span>
                </div>
            </div>


            <div id="msg"></div>
            <div class="dot-container">
                <span class="dot" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
                <span class="dot" onclick="currentSlide(4)"></span>
                <span class="dot" onclick="currentSlide(5)"></span>
                <span class="dot" onclick="currentSlide(6)"></span>
                <span class="dot" onclick="currentSlide(7)"></span>
                <span class="dot" onclick="currentSlide(8)"></span>
                <span class="dot" onclick="currentSlide(9)"></span>
            </div>
            <!-- last 2 divs from top of card-->
        </div>
    </div>
    <div id="example"></div>
    <!-- Modal -->
    <div class="modal modal-primary" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel4">
        <div class="modal-dialog animated zoomIn animated-3x" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title" id="myModalLabel4"> <%=currentUser.username %>, you have scored </h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="zmdi zmdi-close"></i></span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-success alert-light " role="alert">
                        <p id="badge"></p>
                    </div>
                    <div class="alert alert-danger alert-light " role="alert">
                        <p id="points"></p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        $("#example").load("./config");

        var slideIndex = 1;
        showSlides(slideIndex);

        function plusSlides(n) {
            showSlides(slideIndex += n);
            document.getElementById("tick").style.visibility = "hidden";
            document.getElementById("wrong").style.visibility = "hidden";
            document.getElementById("msg").style.visibility = "hidden";

        }
        function currentSlide(n) {
            showSlides(slideIndex = n);
            document.getElementById("tick").style.visibility = "hidden";
            document.getElementById("wrong").style.visibility = "hidden";
            document.getElementById("msg").style.visibility = "hidden";

        }

        function showSlides(n) {
            var i;
            var slides = document.getElementsByClassName("mySlides");
            var dots = document.getElementsByClassName("dot");
            if (n > slides.length) {
                slideIndex = 1
            }
            if (n < 1) {
                slideIndex = slides.length
            }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
            if (slideIndex == 9) {
                document.getElementById("next1").style.visibility = "hidden";
            }
        }
        var correct = 0;
        $("#button1").click(function () {
            var question1 = document.quiz1.question1.value;
            var question2 = document.quiz2.question1.value;
            var question3 = document.quiz3.question1.value;
            var question4 = document.quiz4.question1.value;
            var question5 = document.quiz5.question1.value;
            var question6 = document.quiz6.question1.value;
            var question7 = document.quiz7.question1.value;
            var question8 = document.quiz8.question1.value;
            var question9 = document.quiz9.question1.value;

            //2nd question
            if (slideIndex == 2 && question2 == 2) {
                checkAnswer20();
                showTicks20()
                //third question
            } else if (slideIndex == 3 && question3 == 7) {
                checkAnswer20();
                showTicks20()
            }
            //first question
            else if (slideIndex == 1 && question1 == 5) {
                checkAnswer20();
                showTicks20()
            }
            //4th question 
            else if (slideIndex == 4 && question4 == 24) {
                checkAnswer20();
                showTicks20()
            }
            //5th question 
            else if (slideIndex == 5 && question5 == 13) {
                checkAnswer20();
                showTicks20()
            }
            //6th question
            else if (slideIndex == 6 && question6 == 12) {
                checkAnswer20();
                showTicks20()
            }
            //7th question
            else if (slideIndex == 7 && question7 == 6) {
                checkAnswer20();
                showTicks20()
            }
            //8th question
            else if (slideIndex == 8 && question8 == 62) {
                checkAnswer20();
                showTicks20()
            }
            //9th question
            else if (slideIndex == 9 && question9 == 17) {
                checkAnswer20();
                showTicks20()
            } else {
                document.getElementById("wrong").style.visibility = "visible";
                document.getElementById("msg").style.visibility = "visible";
                document.getElementById("msg").textContent = " Not Yet";
            }
            document.getElementById("badge").textContent = `${correct} out of 9`; 
            document.getElementById("points").textContent = `Points earned:  ${correct * 20} points!`;
});
$("input").attr("maxlength", 5)
</script>
<% include ./partials/footer %>